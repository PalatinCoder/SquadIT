---
title: Pattern work
author: Jan
excerpt: We refactored one of our classes and implemented a design pattern
---

Hi there,

lately we were looking at some use cases which are not yet implemented. Hereby we noticed, that changing a squad's profile picture would basically involve the exact same logic to process the image as changing a user's profile picture. As changing a user's profile was already implemented in the user controller, we decided to refactor the action and extract the shared logic to a separate service. By that, we will be able to use the service from the user controller and also from the squad controller without implementing the same thing twice. You can see what we changed in the corresponding [pull request](https://github.com/PalatinCoder/SquadIT.WebApp/pull/131) on Github. In the following we show the autogenerated class diagrams before and after the refactoring, although unfortunately you can not really see the pattern as the generation of the class diagrams is a bit limited.

![Class diagram before]({{ site.url }}{{ site.baseurl }}/images/refactor-before.png)
![Class diagram after]({{ site.url }}{{ site.baseurl }}/images/refactor-after.png)