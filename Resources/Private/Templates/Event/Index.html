<f:layout name="Default" />

<f:section name="HeaderStyles">
<style type="text/css">
.agenda {  }

/* Dates */
.agenda .agenda-date { width: 170px; }
.agenda .agenda-date .dayofmonth {
  width: 40px;
  font-size: 36px;
  line-height: 36px;
  float: left;
  text-align: right;
  margin-right: 10px;
}
.agenda .agenda-date .shortdate {
  font-size: 0.75em;
}


/* Times */
.agenda .agenda-time { width: 140px; }


/* Events */
.agenda .agenda-events {  }
.agenda .agenda-events .agenda-event {  }
</style>
</f:section>

<f:section name="Title">{squad.name}'s Squalendar</f:section>

<f:section name="Content">
    <f:if condition="{events}">
        <f:then>


        <div class="agenda">
            <div class="table-responsive">
                <table class="table table-condensed table-bordered">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Event</th>
                        </tr>
                    </thead>
                    <tbody>
                        <f:for each="{events}" as="event">
                            <tr>
                                <td class="agenda-date">
                                    <div class="dayofmonth">{f:format.date(date: event.startDate, format: 'd')}</div>
                                    <div class="dayofweek">{f:format.date(date: event.startDate, format: 'l')}</div>
                                    <div class="shortdate text-muted">{f:format.date(date: event.startDate, format: 'F Y')}</div>
                                </td>
                                <td class="agenda-time">
                                    {f:format.date(date: event.startDate, format: "H:i")}
                                </td>
                                <td class="agenda-events">
                                    <div class="agenda-event">
                                        <f:link.action action="show" arguments="{event: event}">{event.title}</f:link.action>
                                    </div>
                                </td>
                            </tr>
                        </f:for>
                        <!-- Demo code -->
                        <!-- Single event in a single day ->
                        <tr>
                            <td class="agenda-date" class="active" rowspan="1">
                                <div class="dayofmonth">26</div>
                                <div class="dayofweek">Saturday</div>
                                <div class="shortdate text-muted">July, 2014</div>
                            </td>
                            <td class="agenda-time">
                                5:30 AM
                            </td>
                            <td class="agenda-events">
                                <div class="agenda-event">
                                    <i class="glyphicon glyphicon-repeat text-muted" title="Repeating event"></i>Â 
                                    Fishing
                                </div>
                            </td>
                        </tr>

                        <!- Multiple events in a single day (note the rowspan) ->
                        <tr>
                            <td class="agenda-date" class="active" rowspan="3">
                                <div class="dayofmonth">24</div>
                                <div class="dayofweek">Thursday</div>
                                <div class="shortdate text-muted">July, 2014</div>
                            </td>
                            <td class="agenda-time">
                                8:00 - 9:00 AM
                            </td>
                            <td class="agenda-events">
                                <div class="agenda-event">
                                    Doctor's Appointment
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="agenda-time">
                                10:15 AM - 12:00 PM
                            </td>
                            <td class="agenda-events">
                                <div class="agenda-event">
                                    Meeting with executives
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="agenda-time">
                                7:00 - 9:00 PM
                            </td>
                            <td class="agenda-events">
                                <div class="agenda-event">
                                    Aria's dance recital
                                </div>
                            </td>
                        </tr>
                        <!- / demo code -->
                    </tbody>
                </table>
            </div>
        </div>
        </f:then>
        <f:else>
            <p>No events created yet.</p>
        </f:else>
    </f:if>
    <f:security.ifAccess privilegeTarget="SquadIT.WebApp:Squad.Manage">
        <div class="row">
            <div class="col-sm-offset-10 col-sm-2">
                <f:link.action action="new" arguments="{squad: squad}" class="btn btn-primary btn-block">
                    <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> New
                </f:link.action>
            </div>
        </div>
    </f:security.ifAccess>
</f:section>
